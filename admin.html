<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - 3Hire</title>
    <meta name="description" content="Coaching. Hiring. Consulting">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
    <!-- Include Vue 3 from CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div id="app">
        <header>
            <div class="logo-container">
                <a href="index.html">
                    <img src="https://img1.wsimg.com/isteam/ip/8703b2e9-5832-4c2f-bf7b-fb281aa3e9f1/3Hire%20-%20Logo%20-%20transparent.jpg/:/rs=w:108,h:108,cg:true,m/cr=w:108,h:108/qt=q:100" 
                         alt="Three Hire Logo" class="logo-image">
                    <div class="logo"></div>
                </a>
            </div>
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <nav id="mainNav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="admin.html" class="active">Admin</a></li>
                    <li><a href="candidates.html">Candidates</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </header>
        
        <main>
            <div id="admin-app">
                <div class="container">
                    <h1>Candidate Management</h1>
                    
                    <!-- Search Section -->
                    <div class="admin-panel">
                        <div class="search-container">
                            <input 
                                type="text" 
                                v-model="searchQuery" 
                                placeholder="Search by ID, name, or email..." 
                                @keyup.enter="searchCandidate"
                            >
                            <button class="btn search-btn" @click="searchCandidate">Search</button>
                            <button class="btn new-btn" @click="resetForm">Add New</button>
                        </div>
                        
                        <!-- Candidate Details (after search) -->
                        <div v-if="searchResult" class="candidate-id">
                            <div><strong>ID:</strong> {{ searchResult.id }}</div>
                            <div><strong>Name:</strong> {{ searchResult.name }}</div>
                            <div><strong>Access Code:</strong> {{ searchResult.accessCode }}</div>
                        </div>
                    </div>
                    
                    <!-- Candidate Form -->
                    <div class="admin-panel">
                        <h2>{{ isEditing ? 'Update Candidate' : 'Add New Candidate' }}</h2>
                        
                        <!-- Basic Information -->
                        <div class="form-section">
                            <h3>Basic Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="name">Name</label>
                                    <input 
                                        type="text" 
                                        id="name" 
                                        v-model="candidate.name" 
                                        :class="{ 'input-error': validationErrors.name }"
                                    >
                                    <div v-if="validationErrors.name" class="validation-message">
                                        {{ validationErrors.name }}
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="email">Email</label>
                                    <input 
                                        type="email" 
                                        id="email" 
                                        v-model="candidate.email"
                                        :class="{ 'input-error': validationErrors.email }"
                                    >
                                    <div v-if="validationErrors.email" class="validation-message">
                                        {{ validationErrors.email }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="phone">Phone Number</label>
                                    <input 
                                        type="text" 
                                        id="phone" 
                                        v-model="candidate.phone"
                                    >
                                </div>
                                <div class="form-group">
                                    <label for="linkedin">LinkedIn URL</label>
                                    <input 
                                        type="url" 
                                        id="linkedin" 
                                        v-model="candidate.linkedin"
                                    >
                                </div>
                            </div>
                        </div>
                        
                        <!-- Interview Assessment -->
                        <div class="form-section">
                            <h3>Interview Assessment</h3>
                            <div class="form-group">
                                <label for="summary">Interview Summary</label>
                                <textarea 
                                    id="summary" 
                                    v-model="candidate.summary"
                                    :class="{ 'input-error': validationErrors.summary }"
                                    placeholder="Provide a general summary of the candidate's interview performance"
                                ></textarea>
                                <div v-if="validationErrors.summary" class="validation-message">
                                    {{ validationErrors.summary }}
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="recommendations">Interview Feedback & Recommendations</label>
                                <textarea 
                                    id="recommendations" 
                                    v-model="candidate.recommendations"
                                    placeholder="Provide specific feedback and recommendations for the candidate"
                                ></textarea>
                            </div>
                        </div>
                        
                        <!-- Form Actions -->
                        <div class="form-actions">
                            <button class="btn save-btn" @click="saveCandidate">
                                {{ isEditing ? 'Update Candidate' : 'Create Candidate' }}
                            </button>
                            <button class="btn reset-btn" @click="resetForm">Reset</button>
                        </div>
                        
                        <!-- Status Message -->
                        <div v-if="saveStatus.message" class="save-status" :class="saveStatus.type">
                            {{ saveStatus.message }}
                        </div>
                        
                        <!-- Candidate created info -->
                        <div v-if="lastCreatedCandidate.id" class="shareable-link">
                            <h3>Candidate Created Successfully</h3>
                            <p>Save this information for the candidate to access their report:</p>
                            <ul>
                                <li><strong>Candidate ID:</strong> {{ lastCreatedCandidate.id }}</li>
                                <li><strong>Access Code:</strong> {{ lastCreatedCandidate.accessCode }}</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; 2025 3Hire. All rights reserved.</p>
            <div class="footer-links">
                <a href="contact.html">Contact</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
            </div>
        </footer>
    </div>
    
    <script src="app.js"></script>
    <script src="admin.js"></script>
</body>
</html>